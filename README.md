# Preparation Code Archive for: Building a productive workforce: the role of structured management practices

This archive contains code used to prepare the analysis data that is used to generate the results that appear in Cornwell, Schmutte, and Scur "Building a productive workforce: the role of structured management practices" as accepted for publication in Management Science in November 2020.

This is one of three archives associated with this manuscript:

1. Analysis Code Archive: `CSS_ManSci_AnalysisCode.zip` 
2. Analysis Data Archive: `CSS_ManSci_AnalysisData.zip`
3. Data Preparation Code Archive: `CSS_ManSci_PreparationCode.zip` (**this archive**)

The code in this archive generates the data in the Analysis Data Archive. The Analysis Code Archive includes the code used to generate the manuscript and appendix results from the analysis data. Only the code archives are publicly available.

Code in this archive are provided for expositional purposes to clarify the processes by which the analysis data were prepared for our manuscript. Unlike the Analysis Code Archive, this archive is not prepared to facilitate "button-press" reproduction. If you need assistance modifying the code for replication, contact `schmutte@uga.edu`.

## Data Availability Statement

This archive produces analysis data derived from several primary input data sources, most of which include confidential information and to which access is restricted. The primary input data sources are the Brazilian RAIS (Relação Anual de Informações Sociais) along with a confidential version of the World Management Survey (WMS) for Brazil. The RAIS data are available to approved researchers via application to the Brazilian Labor Ministry via `observatoriotrabalho@mte.gov.br.`. To obtain access to the identified WMS, interested researchers should submit an application through [their portal](https://worldmanagementsurvey.org/request-special-data-access/).

The authors will make all reasonable efforts to facilitate access to the raw data for purposes of replication for up to two years. During that period, we will also maintain the Analysis Data Archive generated by this code and that are the main inputs to the final analysis.

## Dataset list

The primary input files are

* wms_br_raw.dta
* race_gender_age_best.sas7bdat
* rais_match_uniq_&yr.sas7bdat (for &yr betwee 2003--2017)
* rais_plant_uniq_&yr.sas7bdat

The latter files are in fact cleaned versions of raw RAIS data files provided by Brazil's Labor Ministry. The code used to read and clean the raw RAIS data are also included for reference under `./programs/01_prepare/RAIS/source/read_RAIS`. See the README files contained therein for details.

## Computational requirements

Processing the RAIS data will require a considerable amount of processing time. The preconditioned conjugate gradients estimation process in MATLAB requires around 100 GB of free RAM.

### Software Requirements

* Stata (code was last run with version 16)
* SAS (code last run with SAS 9.4)
* MATLAB

## Instructions

Each subfolder contains a README file that describes what changes need to be made to the code and the order in which programs should be run.
